var status;
var select;

검정 = "#fc0xFF191919#"
var 뎀스A = new Array(2431965, 2438159, 2431966, 2432084, 2438160, 2431967, 2438161, 2432131, 2438162, 2432153, 2432638, 2436688, 2438163, 2432154, 2432637, 2435045, 2438164, 2432207, 2438165, 2432354, 2435023, 2438157, 2438166, 2432355, 2438167, 2432465, 2438168, 2432479, 2438169, 2432526, 2432639, 2438170, 2432532, 2435478, 2438171, 2432592, 2432640, 2438461, 2432710, 2433919, 2435170, 2432836, 2432973, 2435834, 2433063, 2438177, 2433456, 2433178, 2435169, 2631138, 2433631, 2433655, 2438180, 2433715, 2435024, 2433804, 2435168, 2433913, 2435025, 2433980, 2435026, 2437527, 2433981, 2438421, 2433990, 2434248, 2435027, 2434273, 2435028, 2434274, 2435029, 2435490, 2434289, 2434390, 2436099, 2434391, 2436034, 2434528, 2434529, 2434530, 2434546, 2436531, 2434574, 2434575, 2435171, 2434542, 2434654, 2435325, 2434655, 2435326, 2434661, 2437878, 2631137, 2434710, 2434734, 2434824, 2434950, 2435837, 2434951, 2435030, 2435043, 2436041, 2435044, 2436042, 2435046, 2436097, 2435047, 2435140, 2435836, 2435141, 2437244, 2436096, 2435162, 2435724, 2435157, 2436098, 2435158, 2435835, 2435159, 2436687, 2435160, 2436044, 2435161, 2436043, 2435182, 2435725, 2435166, 2435850, 2435184, 2435222, 2436530, 2435293, 2435313, 2435331, 2435473, 2435332, 2435333, 2435849, 2435334, 2435474, 2435316, 2435408, 2435427, 2435428, 2435429, 2435456, 2435493, 2435424, 2435425, 2435431, 2435430, 2435432, 2435433, 2435521, 2435522, 2435523, 2435524, 2436561, 2435538, 2435832, 2435833, 2435839, 2435840, 2435841, 2435972, 2436023, 2436024, 2436026, 2436027, 2436028, 2436029, 2436045, 2436085, 2436083, 2436084, 2436103, 2436131, 2436140, 2436206, 2436182, 2436212, 2437851, 2436215, 2436268, 2436258, 2436259, 2436400, 2436437, 2436511, 2436528, 2436529, 2436522, 2436553, 2437697, 2436560, 2436578, 2437767, 2436611, 2436612, 2436596, 2436679, 2436680, 2436681, 2436682, 2436683, 2436684, 2436785, 2436810, 2436951, 2436952, 2436953, 2437022, 2437023, 2437024, 2437009, 2437164, 2438925, 2437238, 2437243, 2437239, 2437495, 2437496, 2437498, 2437515, 2437482, 2438926, 2437691, 2437716, 2437735, 2437736, 2437854, 2437877, 2438143, 2438146, 2438144, 2438147, 2438352, 2438353, 2438924, 2438378, 2438379, 2438413, 2438414, 2438415, 2438416, 2438417, 2438418, 2438419, 2438420, 2438460, 2438485, 2438491, 2438492, 2438529, 2438530, 2438637, 2438672, 2438676, 2438713, 2438880, 2438881, 2438884, 2438885, 2438871, 2438872, 2439256, 2439298, 2439264, 2439336, 2439265, 2439337, 2439227, 2439338, 2439381, 2439392, 2439393, 2439394, 2439395, 2439407, 2439408, 2439572, 2439616, 2439617, 2439652, 2439653, 2439665, 2439683, 2439684, 2439685, 2439686, 2439768, 2439769, 2439925, 2439926, 2439927, 2439928, 2630104, 2630132, 2630137, 2630010, 2603222, 2630178, 2630179, 2630213, 2630214, 2630380, 2630381, 2630235, 2630236, 2630224, 2630225, 2630766, 2630262, 2630263, 2630264, 2630265, 2630266, 2630267, 2630384, 2630385, 2630400, 2630421, 2630434, 2630435, 2630436, 2630477, 2630478, 2630479, 2630480, 2630481, 2630482, 2630483, 2630484, 2630485, 2630486, 2630552, 2630553, 2630554, 2630555, 2630556, 2630557, 2630558, 2630559, 2630560, 2630561, 2630652, 2630653, 2630743, 2630744, 2630745, 2630746, 2630747, 2630748, 2630749, 2630750, 2630751, 2630752, 2630753, 2630754, 2630780, 2630804, 2630969, 2630970, 2631090, 2631094, 2631091, 2631095, 2631097, 2631098, 2631134, 2631135, 2631189, 2631183, 2631184, 2631401, 2631402, 2631451, 2631452, 2631471, 2631472, 2631492, 2631610, 2631611, 2631797, 2631798, 2631814, 2631815, 2631884, 2631885, 2631892, 2631893, 2632123, 2632124, 2439396, 2439397, 2439398, 2439399, 2630268, 2630269, 2438148, 2438149, 2439681, 2439682, 2438150, 2438151, 2439400, 2439401, 2630516, 2630517);
var 코인 = 4310249
var 필요개수 = 50;
var item = 0;

function start() {
    status = -1;
    action(1, 1, 0);
}

function action(mode, type, selection) {
    if (mode == -1) {
        cm.dispose();
    } else {
        if (mode == 0) {
            cm.dispose();
            return;
        }
        if (mode == 1)
            status++;
        else
            status--;
        if (status == 0) {
            var leaf = cm.itemQuantity(4310012);
            var text = ""
            text = "#fs11#"+검정+"저는 #fc0xFF000087#[블랙]#k "+검정+"컨텐츠 부서에서 #b데미지 스킨 뽑기#k"+검정+"를 담당하고 있는 샤밍이라고 합니다."
            text += "\r\n데미지 스킨 뽑기 한번 당 #r#z4310012# 100개#k"+검정+"로 가 가능합니다.\r\n\r\n";
            text += "현재 보유중인 #d#z4310012##k 갯수 : #e#r"+leaf+"#k개#n\r\n"
            text += "#fc0xFFD5D5D5#───────────────────────────#k\r\n";
            text += "#L0##fc0xFF3B36CF#데미지 스킨을 뽑고 싶습니다.\r\n"
            cm.sendSimple(text)
        } else if (status == 1) {
            if (selection == 12) {
                var amed = "#fs11##fc0xFB1B66FF#데미지 스킨 리스트#k\r\n\r\n";
                for (var i = 0; i < 뎀스A.length; i++) {
                    amed += "#i" + 뎀스A[i] + "# #fc0xFF6B66FF##z" + 뎀스A[i] + "#\r\n";
                }
                cm.sendOk(amed);
                cm.dispose();
            } else {
                item = selection;
                if (!cm.haveItem(4310012, 100)) {
		            cm.sendOk("#fs11##i4310012# #b#z4310012##k 아이템이 부족하거나 없는거 같네요.");
                    cm.dispose();
                } else {
                    cm.sendYesNo("#fs11#정말로 #b데미지 스킨#k을 뽑으시겠습니까?\r\n뽑기 진행 시 #r#z4310012# 100개#k가 소모됩니다.");
                }
            }
        } else if (status == 2) {
            switch (item) {
                case 0:
                    뎀스A = 뎀스A[Math.floor(Math.random() * 뎀스A.length)];
                    if (cm.canHold(뎀스A)) {
                        cm.gainItem(뎀스A, 1);
                        cm.gainItem(4310012, -100);
                        말 = "#fs11#축하드려요 #b#h ##k님! 원하시던 데미지 스킨은 나오셨나요? 마음에 들지 않는다면 한번 더 뽑아보시는건 어떨까요?\r\n\r\n"
                        말 += "#fUI/UIWindow2.img/QuestIcon/4/0#\r\n"
                        말 += "#i" + 뎀스A + "# #b#z" + 뎀스A + "##k\r\n\r\n"
                        말 += "#L0##fc0xFF3B36CF#한번 더 뽑고 싶습니다.\r\n#L1#대화창 닫기"
                        cm.sendOk(말);
                    } else {
                        cm.sendOk("#fs11#데미지 스킨을 받기 위한 공간이 부족한거 같네요.");
                        cm.dispose();
                    }
                    break;
            } 
        } else if (status ==3) {
            if (selection == 0) {
                cm.dispose();
                cm.openNpc(1540106);
            } else {
                cm.dispose();
            }
        }
    }
}